karabo-attributes:
  SPB_RR_SYS/MDL/BUNCH_PATTERN:
    sase1.charge.value:
      id: bunch_charge
      input-type: List[float]
      processor: take-last
      unit: nC
  SPB_XTD9_XGM/XGM/DOOCS:
    data.intensitySa1TD:
      id: pulse_energy
      input-type: List[float]
      processor: list-arithmetic-mean
      unit: mJ

    data.xSa1TD:
      id: beam_x
      input-type: float
      processor: list-arithmetic-mean
      unit: mm

    data.ySa1TD:
      id: beam_y
      input-type: float
      processor: list-arithmetic-mean
      unit: mm

special-attributes:
  runId:
    source: SPB_DAQ_DATA/DM/RUN_CONTROL
    key: runDetails.runId.value
  runStartedAt:
    source: SPB_DAQ_DATA/DM/RUN_CONTROL
    key: runDetails.beginAt.value
  runFirstTrain:
    source: SPB_DAQ_DATA/DM/RUN_CONTROL
    key: runDetails.firstTrainId.value
  runTrainsInRun:
    source: SPB_DAQ_DATA/DM/RUN_CONTROL
    key: runDetails.length.value
  proposalId:
    source: SPB_DAQ_DATA/DM/RUN_CONTROL
    key: proposalNumber.value

    

attributi:
  pulse_energy_avg:
    karabo-attribute: pulse_energy
    processor: arithmetic-mean
    description: "The pulse energy avg"
  pulse_energy_variance:
    karabo-attribute: pulse_energy
    processor: variance
    description: "The pulse energy var"
  beam_position:
    karabo-coagulate: [ beam_x, beam_y ]
    processor: arithmetic-mean
    description: "The pulse energy var"
  beam_position_string:
    karabo-coagulate: "${beam_x} ${beam_y}"
    processor: arithmetic-mean
    description: "The pulse energy var"
